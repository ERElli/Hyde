<!DOCTYPE html><!DOCTYPE html>
<html>
<head>
<title>Game Title</title>
</head>

<body style="margin:0px">
<canvas id="myCanvas" width="1250" height="500"><p>Your browser does not support HTML5!</p></canvas>
<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script type="text/javascript">
  var socket = io();
	var canvas = document.getElementById("myCanvas");
	var context = canvas.getContext("2d");
	var width = canvas.getAttribute('width');
	var height = canvas.getAttribute('height');
	var mouseX;
	var mouseY;
	var backgroundImage = new Image();
	var logoImage = new Image();
	var playImage = new Image();
	var playOnlineImage = new Image();
	var levelEditorImage = new Image();
	var achievementsImage = new Image();
	var bigGuyImage = new Image();
	var backgroundY = 0;
	var speed = 1;
	//Arrays for button dimensions
	var buttonX = [500,500,500,500];
	var buttonY = [200,240,280,320];
	var buttonWidth = [96,260,202,160];
	var buttonHeight = [40,40,40,40];

  socket.on('changeMe', function(data){
    location.href = "/levelEditor";
    //socket.emit('loadIt', data);
  //  socket.emit('do');
  });

	/*
	bigGuyImage.src = "Images/bigGuy.png";
	backgroundImage.onload = function(){
		context.drawImage(backgroundImage, 230, 20);
	};
	*/
	/*
	backgroundImage.src = "Images/Background.png";
	logoImage.onload = function(){
		context.drawImage(logoImage, 200, 10);
	}
	logoImage.src = "Images/scientistMain.png";
	playImage.onload = function(){
		context.drawImage(playImage, buttonX[0], buttonY[0]);
	}
	playImage.src = "Images/playStory.png";
	playOnlineImage.onload = function(){
		context.drawImage(playOnlineImage, buttonX[1], buttonY[1]);
	}
	playOnlineImage.src = "Images/playOnline.png";
	levelEditorImage.onload = function(){
		context.drawImage(levelEditorImage, buttonX[2], buttonY[2]);
	}
	levelEditorImage.src = "Images/levelEditor.png";
	achievementsImage.onload = function(){
		context.drawImage(achievementsImage, buttonX[3], buttonY[3]);
	}
	achievementsImage.src = "Images/achievements.png";
	timerId = setInterval("update()", 1000/frames);
	canvas.addEventListener("mousemove", checkPos);
	canvas.addEventListener("mouseup", checkClick);
	*/
	function update() {
		//clear();
		draw();
	}
/*	function main() {
		backgroundImage.src = "../../images/Background.png";
		backgroundImage.onload = function(){
			context.drawImage(backgroundImage, 0, 0);
		};
		//login
		achievementsImage.onload = function(){
			context.drawImage(achievementsImage, buttonX[1], buttonY[1]);
		}
		achievementsImage.src = "../../images/loadlevelbutton.png"; //Load level
		//sign up
		playImage.onload = function(){
			context.drawImage(playImage, buttonX[0], buttonY[0]);
		}
		playImage.src = "../../images/newlevelbutton.png"; // new Level
		canvas.addEventListener('click', function(e) {
		   mouseX = e.pageX;
			 mouseY = e.pageY;
			 if (mouseX >buttonX[0] && mouseX < (buttonX[0]+ buttonWidth[2]) && mouseY> buttonY[0] && mouseY < (buttonY[0]+buttonHeight[0]) ) {
          socket.emit('newMee',{level: "level1"});
          //location.href = "/levelEditor";
          // socket.emit('got',{todo: "new"});
			 }
			 else if( mouseX >buttonX[0] && mouseX < (buttonX[0]+ buttonWidth[2]) && mouseY> buttonY[1] && mouseY < (buttonY[1]+buttonHeight[0]) ) {

				  socket.emit('load',{level: "level1"});
			 }
		 }, false);
	} */

	/*
	function clear() {
		context.clearRect(0, 0, width, height);
	}
	*/
	function draw(){
		backgroundImage.src = "/images/newWorldTwoBackground.png";

		backgroundImage.onload = function(){
			context.drawImage(backgroundImage, 0, 0);
			/*logoImage.onload = function(){
				context.drawImage(logoImage, buttonX[0]+50, buttonY[0]-100);
			}
			logoImage.src = "../../images/scientistMain.png"; */
			playImage.onload = function(){
				context.drawImage(playImage, buttonX[0], buttonY[0]);
			}
			playImage.src = "../../images/playStory.png";
			playOnlineImage.onload = function(){
				context.drawImage(playOnlineImage, buttonX[1], buttonY[1]);
			}
			playOnlineImage.src = "../../images/playOnline.png";
			levelEditorImage.onload = function(){
				context.drawImage(levelEditorImage, buttonX[2], buttonY[2]);
			}
			levelEditorImage.src = "../../images/levelEditor.png";
			achievementsImage.onload = function(){
				context.drawImage(achievementsImage, buttonX[3], buttonY[3]);
			}
			achievementsImage.src = "../../images/achievements.png";
		};
	}
	update();
canvas.addEventListener('click', function(e) {
   mouseX = e.pageX;
	 mouseY = e.pageY;
	 if (mouseX >buttonX[0] && mouseX < (buttonX[0]+ buttonWidth[2]) && mouseY> buttonY[0] && mouseY < (buttonY[0]+buttonHeight[0]) ) {
		//context.clearRect(0, 0, canvas.width, canvas.height);
		location.href = "/client/interface/index.html";
	 }
	 else if( mouseX >buttonX[0] && mouseX < (buttonX[0]+ buttonWidth[2]) && mouseY> buttonY[2] && mouseY < (buttonY[2]+buttonHeight[0]) ) {
		location.href = "/levelEditor";
	 }
	 else{
		 console.log(" do nothing");
	 }
 }, false);
	/*canvas.addEventListener('click', function(event) {
    var x = event.pageX,
        y = event.pageY;
    // Collision detection between clicked offset and element.
		if(x> 149){
			alert('clicked an element');
		}
    /*elements.forEach(function(element) {
        if (y > element.top && y < element.top + element.height
            && x > element.left && x < element.left + element.width) {
            alert('clicked an element');
        }
    });
}, false); */
</script>
</body>

</html>
